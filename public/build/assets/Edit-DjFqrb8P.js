import{d as C,C as S,l as N,a as i,o as u,b as n,e as s,t as p,w as l,h as o,u as t,W as U,i as P,j as v,F as T,n as E}from"./app-DumOiAmi.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-Dstjlrk5.js";import{_ as h,a as j,b as A,c as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-DI5Foxhg.js";import{_ as F}from"./CardDescription.vue_vue_type_script_setup_true_lang-tC2ZaFEZ.js";import{_,a as y}from"./Label.vue_vue_type_script_setup_true_lang-pSt1WH4x.js";import{_ as L,a as M,b as W,c as q,d as c}from"./SelectValue.vue_vue_type_script_setup_true_lang-Bq_apb3u.js";import"./index-DFHyhZyb.js";import"./check-G6ByUT-W.js";import"./createLucideIcon-D4hBZuRw.js";const D={class:"container mx-auto py-8"},I={class:"mb-4 flex items-center justify-between"},O={class:"text-3xl font-bold"},R={class:"space-y-2"},z={class:"space-y-2"},G={key:0,class:"text-sm text-red-500"},H={class:"space-y-2"},J={key:0,class:"text-sm text-red-500"},K={class:"space-y-2"},Q={key:0,class:"text-sm text-red-500"},X={class:"space-y-2"},Y={class:"flex space-x-2"},Z={class:"mt-2 flex flex-wrap gap-2"},tt=["onClick"],et={key:0,class:"text-sm text-red-500"},pt=C({__name:"Edit",props:{pet:{type:Object,required:!0}},setup(g){var b;const r=g,a=S({id:r.pet.id,name:r.pet.name||"",status:r.pet.status||"available",category:r.pet.category||{id:1,name:""},photoUrls:r.pet.photoUrls&&r.pet.photoUrls.length?r.pet.photoUrls:[""],tags:r.pet.tags||[]}),m=N({id:Math.max(0,...((b=r.pet.tags)==null?void 0:b.map(f=>f.id))||[0])+1,name:""}),$=()=>{m.value.name.trim()&&(a.tags.push({...m.value}),m.value.name="",m.value.id++)},w=f=>{a.tags.splice(f,1)},k=()=>{a.put(route("pets.update",r.pet.id),{onSuccess:()=>{U.visit(route("pets.show",r.pet.id))}})};return(f,e)=>(u(),i("div",D,[n("div",I,[n("h1",O,"Edit Pet: "+p(g.pet.name),1),s(t(x),{onClick:e[0]||(e[0]=d=>t(U).visit(f.route("pets.show",g.pet.id)))},{default:l(()=>e[6]||(e[6]=[o("Cancel")])),_:1})]),s(t(B),null,{default:l(()=>[s(t(h),null,{default:l(()=>[s(t(j),null,{default:l(()=>e[7]||(e[7]=[o("Edit Pet Information")])),_:1}),s(t(F),null,{default:l(()=>e[8]||(e[8]=[o("Update the details for this pet")])),_:1})]),_:1}),s(t(A),null,{default:l(()=>[n("form",{onSubmit:P(k,["prevent"]),class:"space-y-6"},[n("div",R,[s(t(_),{for:"name"},{default:l(()=>e[9]||(e[9]=[o("Name")])),_:1}),s(t(y),{id:"name",modelValue:t(a).name,"onUpdate:modelValue":e[1]||(e[1]=d=>t(a).name=d),type:"text",class:"w-full"},null,8,["modelValue"])]),n("div",z,[s(t(_),{for:"status"},{default:l(()=>e[10]||(e[10]=[o("Status")])),_:1}),s(t(L),{modelValue:t(a).status,"onUpdate:modelValue":e[2]||(e[2]=d=>t(a).status=d)},{default:l(()=>[s(t(M),null,{default:l(()=>[s(t(W),{placeholder:"Select status"})]),_:1}),s(t(q),null,{default:l(()=>[s(t(c),{value:"available"},{default:l(()=>e[11]||(e[11]=[o("Available")])),_:1}),s(t(c),{value:"pending"},{default:l(()=>e[12]||(e[12]=[o("Pending")])),_:1}),s(t(c),{value:"sold"},{default:l(()=>e[13]||(e[13]=[o("Sold")])),_:1})]),_:1})]),_:1},8,["modelValue"]),t(a).errors.status?(u(),i("div",G,p(t(a).errors.status),1)):v("",!0)]),n("div",H,[s(t(_),{for:"category"},{default:l(()=>e[14]||(e[14]=[o("Category")])),_:1}),s(t(y),{id:"category",modelValue:t(a).category.name,"onUpdate:modelValue":e[3]||(e[3]=d=>t(a).category.name=d),type:"text",class:"w-full"},null,8,["modelValue"]),t(a).errors["category.name"]?(u(),i("div",J,p(t(a).errors["category.name"]),1)):v("",!0)]),n("div",K,[s(t(_),{for:"photoUrl"},{default:l(()=>e[15]||(e[15]=[o("Photo URL")])),_:1}),s(t(y),{id:"photoUrl",modelValue:t(a).photoUrls[0],"onUpdate:modelValue":e[4]||(e[4]=d=>t(a).photoUrls[0]=d),type:"text",class:"w-full"},null,8,["modelValue"]),t(a).errors.photoUrls?(u(),i("div",Q,p(t(a).errors.photoUrls),1)):v("",!0)]),n("div",X,[s(t(_),null,{default:l(()=>e[16]||(e[16]=[o("Tags")])),_:1}),n("div",Y,[s(t(y),{modelValue:m.value.name,"onUpdate:modelValue":e[5]||(e[5]=d=>m.value.name=d),type:"text",class:"w-full",placeholder:"Add a tag"},null,8,["modelValue"]),s(t(x),{type:"button",onClick:$},{default:l(()=>e[17]||(e[17]=[o("Add")])),_:1})]),n("div",Z,[(u(!0),i(T,null,E(t(a).tags,(d,V)=>(u(),i("div",{key:V,class:"flex items-center rounded-full bg-gray-600 px-3 py-1"},[o(p(d.name)+" ",1),n("button",{type:"button",onClick:st=>w(V),class:"ml-2 text-red-500 hover:text-red-700"},"Ã—",8,tt)]))),128))])]),n("div",null,[s(t(x),{type:"submit",disabled:t(a).processing},{default:l(()=>e[18]||(e[18]=[o("Update Pet")])),_:1},8,["disabled"])]),t(a).errors.name?(u(),i("div",et,p(t(a).errors.name),1)):v("",!0)],32)]),_:1})]),_:1})]))}});export{pt as default};
